<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex, nofollow">
  <title>Drive</title>
  <link rel="icon" type="image/x-icon" href="../public/images/favicon.ico">
  <link rel="stylesheet" href="../public/styles/min/api.css">
</head>
<body data-path="../public/">
  <header role="banner" class="centered-navigation">
    <div class="centered-navigation-wrapper"><a class="mobile-logo">
        <div data-grunticon-embed class="icon-speed"></div></a><a id="js-centered-navigation-mobile-menu" class="centered-navigation-mobile-menu">MENU</a>
      <nav role="navigation">
        <ul id="js-centered-navigation-menu" class="centered-navigation-menu show">
          <li class="nav-link"><a href="/quick-start.html">Quick Start</a></li>
          <li class="nav-link"><a href="/api/index.html">API</a></li>
          <li class="nav-link logo"><a href="/" class="logo">
              <div data-grunticon-embed class="icon-speed"></div></a></li>
          <li class="nav-link"><a href="https://github.com/zdfs/datadriver">Github</a></li>
          <li class="nav-link"><a a href="/about.html">About</a></li>
        </ul>
      </nav>
    </div>
  </header>
  <div class="section section--light">
    <div class="section--container">
      <div class="flex-boxes">
        <div class="flex-box api-box">
          <div class="api-sidebar">
            <h3>Methods</h3>
            <ul>
              <li><a href="/api/executeAction.html">executeAction()</a></li>
              <li><a href="/api/getBaseUrl.html">getBaseUrl()</a></li>
              <li><a href="/api/go.html">go()</a></li>
              <li><a href="/api/setup.html">setup()</a></li>
              <li><a href="/api/verify.html">verify()</a></li>
            </ul>
            <h3>Verify steps</h3>
            <ul>
              <li><a href="/api/verifyCssProperty.html">verifyCssProperty</a></li>
              <li><a href="/api/verifyCssPropertyAgainstStorage.html">verifyCssPropertyAgainstStorage</a></li>
              <li><a href="/api/verifyState.html">verifyState</a></li>
              <li><a href="/api/verifyText.html">verifyText</a></li>
              <li><a href="/api/verifyAttribute.html">verifyAttribute</a></li>
              <li><a href="/api/verifyUrl.html">verifyUrl</a></li>
              <li><a href="/api/verifyPageTitle.html">verifyPageTitle</a></li>
              <li><a href="/api/verifyCount.html">verifyCount</a></li>
              <li><a href="/api/verifyScriptResult.html">verifyScriptResult</a></li>
            </ul>
            <h3>Execute actions</h3>
            <ul>
              <li><a href="/api/executeType.html">type</a></li>
              <li><a href="/api/executeRefresh.html">refresh</a></li>
              <li><a href="/api/executePause.html">pause</a></li>
              <li><a href="/api/executeHover.html">hover</a></li>
              <li><a href="/api/executeClick.html">click</a></li>
              <li><a href="/api/executeRedirect.html">redirect</a></li>
              <li><a href="/api/executeEval.html">eval</a></li>
              <li><a href="/api/executeEvalAndStore.html">evalAndStore</a></li>
              <li><a href="/api/executeSendKeystroke.html">sendKeystroke</a></li>
              <li><a href="/api/executeButtonUp.html">buttonUp</a></li>
              <li><a href="/api/executeButtonDown.html">buttonDown</a></li>
              <li><a href="/api/executeButtonUp.html">buttonUp</a></li>
              <li><a href="/api/executeButtonUp.html">buttonUp</a></li>
              <li><a href="/api/executeMoveTo.html">moveTo</a></li>
              <li><a href="/api/executeSetCookie.html">setCookie</a></li>
              <li><a href="/api/executeDeleteCookie.html">deleteCookie</a></li>
              <li><a href="/api/executeNewWindow.html">newWindow</a></li>
            </ul>
            <h3>Extras</h3>
            <ul>
              <li><a href="/api/assert-modes.html">Assert modes</a></li>
              <li><a href="/api/browser-properties.html">Browser-specific properties</a></li>
            </ul>
          </div>
        </div>
        <div class="flex-box">
          <h2 class="flex-title">getBaseUrl()</h2>
          <p>When you run a test from the command line, like this for example:</p>
          <pre class="language-bash line-numbers"><code>grunt webdriver --url=http://duckduckgo.com</code></pre>
          <p>
            You're passing the url you want your tests to begin from to the <code>getBaseUrl()</code> function, which is
            exposed to you for use within your tests. Let's look at our DuckDuckGo example again, but this time, we're going
            to have the test go to the <code>/about</code> page and verify that a logo exists.
          </p>
          <pre class="language-javascript line-numbers"><code>'use strict';
<br>
var drive = require('datadriver');
<br>
drive.go({
<br>
  "config": {
    "description": "Duck Duck Go Test",
    "url": "about",
    "suites": [
      {
        "description": "Verify DuckDuckGo logo",
        "tests": ["duck-duck-go-about"],
        "viewports": { large: true }
      }
    ]
  },
<br>
  "duck-duck-go-about": {
    "steps": [
      {
        "selector": ".timeline__logo",
        "verify": [
          {
            "method": "verifyAttribute",
            "asserts": {
              "src": drive.getBaseUrl() + "assets/dax-alt.svg"
            }
          }
        ]
      }
    ]
  }
<br>
});</code></pre>
          <p>When I run the script from the command line:</p>
          <pre class="language-bash line-numbers"><code>grunt webdriver --url=https://duckduckgo.com</code></pre>
          <p>I get the following output.</p>
          <pre class="language-bash line-numbers"><code>$ grunt webdriver:duckduckgo --url=https://duckduckgo.com
Running "webdriver:duckduckgo" (webdriver) task
Duck Duck Go Test
  Rendered in a large viewport
    Verify DuckDuckGo logo
      âœ“ the "src" attribute of ".timeline__logo" should equal "https://duckduckgo.com/assets/dax-alt.svg"
<br>
1 passing</code></pre>
          <hr>
          <h2>Some things to note</h2>
          <p>
            When you look at the <code>config</code> object of the test above, you'll notice that there is a new
            <code>url</code> key. Since the url we're looking for is <code>https://duckduckgo/about</code>, all we need to
            pass to the config is a simple string, <code>"about"</code>. Datadriver automatically gives you the base url,
            which to reiterate, is only the url you passed in via the command line with the <code>--url</code> option.
            The <code>getBaseUrl()</code> method will always return a url with a <code>/</code> at the end.
          </p>
          <hr>
          <p>
            The second thing you can do with <code>getBaseUrl()</code> is using the method in an actual test. When we test
            for the <code>src</code> attribute of an <code>img</code>, like we did above, Selenium is always going to return
            an absolute url. If we want to match it exactly (which is the default mode for our assertions), we can use
            <code>getBaseUrl()</code> to do exactly that. You can see an example of that in the test written out above.
          </p>
          <hr>
          <p>
            If you don't use the <code>--url</code> option from the command line, we assume that you're trying to find a
            local development server, so we default <code>getBaseUrl()</code> to <code>http://localhost:3000</code>.
          </p>
        </div>
      </div>
    </div>
  </div>
  <footer role="contentinfo" class="footer">
    <div class="footer-content"><a href="/" class="footer-logo">
        <div data-grunticon-embed class="icon-speed"></div></a>
      <ul>
        <li><a href="/quick-start.html">Quick Start</a></li>
        <li><a href="/api/index.html">API</a></li>
        <li><a href="https://github.com/zdfs/datadriver">Github</a></li>
        <li><a a href="/about.html">About</a></li>
      </ul>
    </div>
  </footer>
  <script src="../public/scripts/min/app.js"></script>
</body>